"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),_get=function(n,t,i){var e=!0,r,f,o;n:while(e){var u=n,s=t,h=i;if(e=!1,u===null&&(u=Function.prototype),r=Object.getOwnPropertyDescriptor(u,s),r===undefined){if(f=Object.getPrototypeOf(u),f===null)return undefined;n=f;t=s;i=h;e=!0;r=f=undefined;continue n}else return"value"in r?r.value:(o=r.get,o===undefined)?undefined:o.call(h)}},App=function(n){function t(n){_classCallCheck(this,t);_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n);this.state={filtro:"",leyenda:"",establecimiento:{folio_establecimiento:-1,establecimiento:"",seleccion:{cancelacion:0,diferencia:0,venta:0}},colaborador:{folio:-1,nombre:"",foto:"",antiguedad:"",puesto:"",fecha:"",departamento:"",actual:{venta:0,cancelacion:0,diferencia:0},pasado:{venta:0,cancelacion:0,diferencia:0}},fecha:this.fecha_hoy(),lista:[],indicadores_monitor:[{Indicador:"Cajeros Ventas",Valor_optimo_indicador:0,Operador:""},{Indicador:"Cancelaciones",Valor_optimo_indicador:0,Operador:""},{Indicador:"Diferencia Corte",Valor_optimo_indicador:0,Operador:""}]};this.meses=["","Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];this.barChart=null;this.indicadores_monitor=this.MonitoreoDeIndicadoresContraCaptura.bind(this);this.Obtener_indicadores();this.Obtener_indicadores_monitor()}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){return React.createElement("div",{className:"panel panel-default"},React.createElement(Header,{titulo:' Indicadores Establecimientos De Eldorado Del Mes De "'+this.fecha_mes()+'".',evento:this.on_fecha.bind(this),recargar:this.on_recargar.bind(this),fecha:this.parseo_fecha()}),React.createElement(TableBodyEstablecimientos,{list:this.state.lista,IndicadorMonitor:this.indicadores_monitor,mes:this.fecha_mes(),seleccion:this.on_seleccion_est.bind(this)}),React.createElement(ModalEmpleados,{seleccion:this.state.establecimiento,IndicadorMonitor:this.indicadores_monitor,datos:this.state.lista,mes:this.fecha_mes(),evento:this.on_colaborador.bind(this),fecha:this.state.fecha}),React.createElement(ModalDetalleEmpleado,{colaborador:this.state.colaborador,IndicadorMonitor:this.indicadores_monitor,actual:this.fecha_mes(),anterior:this.fecha_mes_anterior(),establecimiento:this.state.establecimiento.establecimiento,evento:this.on_detalle_colaborador.bind(this),mes:this.fecha_mes()}),React.createElement(ModalSemanasColaborador,{lista:this.state.lista,IndicadorMonitor:this.indicadores_monitor,establecimiento:this.state.establecimiento.folio_establecimiento,actual:this.fecha_mes(),anterior:this.fecha_mes_anterior(),colaborador:this.state.colaborador,filtro:this.state.filtro,leyenda:this.state.leyenda,grafica:this.graficar.bind(this)}))}},{key:"on_fecha",value:function(n){var t=n.target.value.split("-");this.setState({fecha:t[2]+"/"+t[1]+"/"+t[0],lista:[]})}},{key:"on_seleccion_est",value:function(n,t){var i={folio_establecimiento:n.folio_establecimiento_venta,establecimiento:n.establecimiento_venta,seleccion:t};this.setState({establecimiento:i});document.getElementById("modal_establecimiento").style.display="flex"}},{key:"on_recargar",value:function(){this.setState({lista:[]});document.getElementById("carga_Establecimientos").style.display="flex";this.Obtener_indicadores()}},{key:"on_colaborador",value:function(n){var t=this.Obtener_indicadores_por_mes(n),i={folio:n.folio_empleado,nombre:n.nombre_empleado,foto:"",antiguedad:n.antiguedad,puesto:n.puesto,fecha:n.fecha_ingreso,departamento:n.departamento,actual:t.actual,pasado:t.anterior};this.setState({colaborador:i});this.Obtener_foto_empleado(n.folio_empleado);document.getElementById("modal_detalle_empleados").style.display="flex"}},{key:"on_detalle_colaborador",value:function(n){var t=this.state.indicadores_monitor.find(function(n){return n.Indicador=="Cajeros Ventas"}),i=this.state.indicadores_monitor.find(function(n){return n.Indicador=="Cancelaciones"}),r=this.state.indicadores_monitor.find(function(n){return n.Indicador=="Diferencia Corte"}),u="";u=n=="Venta X 100."?"Total De Venta Por Cada Cien. ( Venta X 100 "+t.Operador+" "+t.Valor_optimo_indicador+" )":n=="Cancelacion X 100."?"Un Producto Por Cada Cien. ( Cancelaciones X 100 "+i.Operador+" "+i.Valor_optimo_indicador+" )":"Un Peso por Cada Diez Mil. ( Diferencia X 10,000 "+r.Operador+" "+r.Valor_optimo_indicador+" )";this.setState({filtro:n,leyenda:u});document.getElementById("modal_vista_semana").style.display="flex"}},{key:"fecha_hoy",value:function(){var n=new Date,t=n.getDate()>10?n.getDate():"0"+n.getDate(),i=n.getMonth()+1>10?n.getMonth()+1:"0"+(n.getMonth()+1),r=n.getFullYear();return t+"/"+i+"/"+r}},{key:"parseo_fecha",value:function(){var n=this.state.fecha.split("/");return n[2]+"-"+n[1]+"-"+n[0]}},{key:"fecha_mes",value:function(){var n=this.state.fecha.split("/");return this.meses[parseInt(n[1])]}},{key:"fecha_mes_anterior",value:function(){var n=this.state.fecha.split("/");return n[1]>1?this.meses[parseInt(n[1])-1]:this.meses[parseInt(n[1])+11]}},{key:"Obtener_indicadores_por_mes",value:function(n){var v=this,r=0,u=0,f=0,e=0,o=0,s=0,h=0,c=0,l=0,a=0,t=this.state.lista.filter(function(t){return t.folio_establecimiento_venta==n.folio_establecimiento_venta&&t.folio_empleado==n.folio_empleado&&t.mes==v.fecha_mes()}),i=this.state.lista.filter(function(t){return t.folio_establecimiento_venta==n.folio_establecimiento_venta&&t.folio_empleado==n.folio_empleado&&t.mes!=v.fecha_mes()});return t.forEach(function(n){r+=n.indicado_venta_x_100;u+=n.indicador_cancelacion_x_100;f+=n.indicacor_diferencia_x_1000;e+=n.total_diferencia_de_corte;o+=n.venta_por_semana_empleado}),i.forEach(function(n){s+=n.indicado_venta_x_100;h+=n.indicador_cancelacion_x_100;c+=n.indicacor_diferencia_x_1000;l+=n.total_diferencia_de_corte;a+=n.venta_por_semana_empleado}),r=Math.round(r/t.length*100)/100,u=Math.round(u/t.length*100)/100,f=Math.round(f/t.length*100)/100,e=Math.round(e/t.length*100)/100,o=Math.round(o/t.length*100)/100,s=Math.round(s/i.length*100)/100,h=Math.round(h/i.length*100)/100,c=Math.round(c/i.length*100)/100,l=Math.round(l/i.length*100)/100,a=Math.round(a/i.length*100)/100,{actual:{venta:r,cancelacion:u,diferencia:f,corte:e,total:o},anterior:{venta:s,cancelacion:h,diferencia:c,corte:l,total:a}}}},{key:"graficar",value:function(n,t,i){var u=this,e=n.map(function(){return u.state.indicadores_monitor.find(function(n){return n.Indicador=="Cajeros Ventas"}).Valor_optimo_indicador}),o=n.map(function(){return u.state.indicadores_monitor.find(function(n){return n.Indicador=="Cancelaciones"}).Valor_optimo_indicador}),s=n.map(function(){return u.state.indicadores_monitor.find(function(n){return n.Indicador=="Diferencia Corte"}).Valor_optimo_indicador}),r=[{label:"inidcador.",data:n,borderColor:"#00b300",fill:!1}],f;switch(t){case"Venta X 100. Semanas Del Año.":r.push({label:"Venta.",data:e,borderColor:"#6a2172",fill:!1});break;case"Cancelacion X 100. Semanas Del Año.":r.push({label:"Cancelacion.",data:o,borderColor:"#cd6543",fill:!1});break;case"Diferencia X 10,000. Semanas Del Año.":r.push({label:"Diferencia.",data:s,borderColor:"#136dbc",fill:!1})}f=document.getElementById("barras_char");this.barChart!=null&&(this.barChart.clear(),this.barChart.destroy());this.barChart=new Chart(f,{type:"line",data:{labels:i,datasets:r},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(n){return n+" ."}},scaleLabel:{display:!0,labelString:t}}]}}});this.barChart.update()}},{key:"MonitoreoDeIndicadoresContraCaptura",value:function(n,t){var u=this.state.indicadores_monitor.find(function(n){return n.Indicador=="Cajeros Ventas"}),f=this.state.indicadores_monitor.find(function(n){return n.Indicador=="Cancelaciones"}),e=this.state.indicadores_monitor.find(function(n){return n.Indicador=="Diferencia Corte"}),i={indicador:"",estatus:!1},o=function(t){return n>t},s=function(t){return n<t},h=function(t){return n==t},c=function(t){return n>=t},l=function(t){return n>=t},r=function(n){var u=n.Operador,f=n.Indicador,t=n.Valor_optimo_indicador,r="";switch(u){case">":i.estatus=o(t);r=">";break;case"<":i.estatus=s(t);r="<";break;case"=":i.estatus=h(t);r="=";break;case">=":i.estatus=c(t);r=">=";break;case"<=":i.estatus=l(t);r="<="}i.indicador=t+"  "+r};switch(t){case"venta":r(u);break;case"cancelacion":r(f);break;case"diferencia":r(e)}return i}},{key:"Obtener_indicadores",value:function(){var n=this;fetch("servicios/indicadores/indicadores_cajas_conexion.asmx/lista_indicadores",{method:"post",credentials:"same-origin",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({fecha:this.state.fecha})}).then(function(t){t.status=="200"?t.text().then(function(t){t=JSON.parse(t);t.d.length>0?n.setState({lista:t.d}):alert("Sin Datos A Mostrar!!!");document.getElementById("carga_Establecimientos").style.display="none"})["catch"](function(n){return alert("Error en ",n)}):(document.getElementById("carga_Establecimientos").style.display="none",alert("Error De Conexion!!!"))})["catch"](function(n){console.log(n);alert("Error:",n)})}},{key:"Obtener_foto_empleado",value:function(n){var t=this;fetch("servicios/ususrios_scoiServ.asmx/obtener_usuario_imagen",{method:"post",credentials:"same-origin",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({tipo:"id_scoi",filtro:n})}).then(function(i){i.status=="200"?i.text().then(function(n){var i=t.state.colaborador;n=JSON.parse(n);i.foto=n.d.foto?n.d.foto:"../../../Data/usr.jpg";t.setState({colaborador:i})})["catch"](function(){t.Obtener_foto_empleado(n)}):(alert("Error De Conexion!!!"),t.Obtener_foto_empleado(n))})["catch"](function(n){console.log(n);alert("Error:",n)})}},{key:"Obtener_indicadores_monitor",value:function(){var n=this;fetch("servicios/indicadores/indicadores_cajas_conexion.asmx/Indicadores_monitor",{method:"post",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json().then(function(t){n.setState({indicadores_monitor:t.d})})})["catch"]()}}]),t}(React.Component),Cargar=function(n){var t=n.nombre;return React.createElement("div",{id:t,style:{display:"flex",position:"fixed",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(144, 144, 146, 0.29)",top:0,bottom:0,left:0,right:0,zIndex:1,fontSize:"40px"}},React.createElement("label",{id:t+1},React.createElement("i",{className:"fa fa-circle-o-notch rotate"}),React.createElement("strong",{style:{fontSize:"20px"}}," Cargando..."),React.createElement("br",null)))},Checar=function(n){return n?"green":"red"},Header=function(n){function f(){return React.createElement("div",{className:"group-control",style:{width:"170px",display:"inline-block",marginLeft:"15px"}},React.createElement("strong",null,"Fecha"),React.createElement("input",{type:"date",className:"form-control",value:i,onChange:r}))}var t=n.titulo,i=n.fecha,r=n.evento,u=n.recargar;return React.createElement("div",{className:"panel-heading",style:{display:"flex",top:"-10px"}},React.createElement("span",null,React.createElement("h3",null,t)),React.createElement(f,null),React.createElement("i",{className:"btn btn-default fa fa-download",onClick:u,style:{marginTop:"20px",marginLeft:"20px",fontSize:"20px"}},React.createElement("strong",{style:{marginLegt:"5px",fontSize:"15px"}}," Cargar Informacion. ")))},TableBodyEstablecimientos=function(n){var t=n.list,r=n.seleccion,u=n.mes,i=n.IndicadorMonitor,f=function(){var e=function(n){var h=n.e,f=0,e=0,o=0,c=0,l=0,s=t.filter(function(n){return n.folio_establecimiento_venta==h.folio_establecimiento_venta&&n.mes==u});s.forEach(function(n){f+=n.indicado_venta_x_100;e+=n.indicador_cancelacion_x_100;o+=n.indicacor_diferencia_x_1000;c+=n.total_diferencia_de_corte;l+=n.venta_por_semana_empleado});f=Math.round(f/s.length*100)/100;e=Math.round(e/s.length*100)/100;o=Math.round(o/s.length*100)/100;c=Math.round(c/s.length*100)/100;l=Math.round(l/s.length*100)/100;var a=i(f,"venta"),v=i(e,"cancelacion"),y=i(o,"diferencia");return React.createElement("tr",{key:h.folio_establecimiento_venta},React.createElement("td",null,h.folio_establecimiento_venta),React.createElement("td",null,h.establecimiento_venta),React.createElement("td",{style:{textAlign:"right"},className:Checar(a.estatus)},React.createElement("label",null,a.indicador),React.createElement("strong",null," ",f)),React.createElement("td",{style:{textAlign:"right"},className:Checar(v.estatus)},React.createElement("label",null,v.indicador),React.createElement("strong",{style:{marginLeft:"5px"}},e)),React.createElement("td",{style:{textAlign:"right"},className:Checar(y.estatus)},React.createElement("label",null,y.indicador),React.createElement("strong",{style:{marginLeft:"5px"}},o)),React.createElement("td",{style:{textAlign:"right"}},"$",React.createElement("strong",{style:{marginLeft:"5px"}},c)),React.createElement("td",null,"$",React.createElement("strong",null,l)),React.createElement("td",null,React.createElement("i",{className:"btn btn-info glyphicon glyphicon-list-alt",onClick:function(){return r(h,{venta:f,cancelacion:e,diferencia:o})}}," Indicadores")))},n=[],f=0;return t.sort(function(n,t){return n.folio_establecimiento_venta>t.folio_establecimiento_venta?1:-1}),t.forEach(function(t){f!=t.folio_establecimiento_venta&&(f=t.folio_establecimiento_venta,n.push(React.createElement(e,{e:t,key:t.folio_establecimiento_venta})))}),n};return React.createElement("div",{className:"panel-body",style:{height:"560px"}},React.createElement("div",{style:{height:"540px",overflow:"auto"}},React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",{style:{background:"#0194ae"}},React.createElement("th",{style:{width:"40px",color:"azure",fontSize:"18px"}},"Folio"),React.createElement("th",{style:{color:"azure",fontSize:"18px"}},"Establecimiento"),React.createElement("th",{style:{width:"130px",color:"azure"}},"Venta x 100"),React.createElement("th",{style:{width:"130px",color:"azure"}},"Cancelaciones x 100"),React.createElement("th",{style:{width:"130px",color:"azure"}},"Diferencia x 10,000"),React.createElement("th",{style:{width:"90px",color:"azure"}},"Diferencia Cortes"),React.createElement("th",{style:{width:"70px",color:"azure"}},"Venta Total"),React.createElement("th",{style:{width:"70px",color:"azure"}}))),React.createElement("tbody",null,React.createElement(f,null)))),React.createElement(Cargar,{nombre:"carga_Establecimientos"}))},ModalEmpleados=function(n){function f(){document.getElementById("modal_establecimiento").style.display="none"}var t=n.seleccion,e=n.datos,o=n.evento,u=n.mes,i=n.IndicadorMonitor,r=function(n){var t=n.titulo,i=n.valor,r=n.r;return React.createElement("div",{className:"form-group",style:{width:"125px",display:"inline-block",marginLeft:"25px"}},React.createElement("strong",{style:{fontSize:"12px"}},t),React.createElement("label",{className:"form-control "+r,style:{textAlign:"right"}},i))},s=function(){return e.filter(function(n){return n.folio_establecimiento_venta==t.folio_establecimiento&&n.mes==u})},h=i(t.seleccion.venta,"venta"),c=i(t.seleccion.cancelacion,"cancelacion"),l=i(t.seleccion.diferencia,"diferencia");return React.createElement("div",{id:"modal_establecimiento",style:{position:"fixed",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(144, 144, 146, 0.29)",top:0,bottom:0,left:0,right:0,zIndex:9991,display:"none"}},React.createElement("div",{className:"panel panel-default animate",style:{height:"90%",minHeight:"600px",width:"95%",maxWidth:"1100px",minWidth:"500px"}},React.createElement("div",{className:"panel-heading",style:{height:"8%",background:"#0194ae",color:"azure",fontSize:"18px"}},React.createElement("i",{className:"close fa fa-close",onClick:function(){return f()}}),React.createElement("strong",null,"INDICADORES ",t.establecimiento,".")),React.createElement("div",{className:"panel-default",style:{height:"85%"}},React.createElement("div",{className:"panel-heading"},React.createElement("span",null,React.createElement("label",{style:{fontSize:"25px"}},'Total Indicadores Del Mes "',u,'".')),React.createElement("span",{style:{display:"inline-block"}},React.createElement(r,{titulo:"Venta X 100",valor:t.seleccion.venta,r:Checar(h.estatus)}),React.createElement(r,{titulo:"Cancelacion X 100",valor:t.seleccion.cancelacion,r:Checar(c.estatus)}),React.createElement(r,{titulo:"diferencia X 10,000",valor:t.seleccion.diferencia,r:Checar(l.estatus)}))),React.createElement("div",{className:"panel-body",style:{height:"90%"}},React.createElement("div",{style:{height:"90%",overflow:"auto",marginTop:"1px"}},React.createElement(TablaEmpleados,{lista:s(),evento:o,IndicadorMonitor:i})))),React.createElement("div",{className:"panel-footer"},React.createElement("i",{className:"btn btn-danger close",onClick:function(){return f()},style:{marginLeft:"88%",fontSize:"14px",background:"red",color:"azure"}},"Cerrar"))))},TablaEmpleados=function(n){var i=n.lista,r=n.evento,t=n.IndicadorMonitor,u=function(n){var f=n.e,e=0,o=0,s=0,h=0,c=0,u=i.filter(function(n){return n.folio_establecimiento_venta==f.folio_establecimiento_venta&&n.folio_empleado==f.folio_empleado});u.forEach(function(n){e+=n.indicado_venta_x_100;o+=n.indicador_cancelacion_x_100;s+=n.indicacor_diferencia_x_1000;h+=n.total_diferencia_de_corte;c+=n.venta_por_semana_empleado});e=Math.round(e/u.length*100)/100;o=Math.round(o/u.length*100)/100;s=Math.round(s/u.length*100)/100;h=Math.round(h/u.length*100)/100;c=Math.round(c/u.length*100)/100;var l=t(e,"venta"),a=t(o,"cancelacion"),v=t(s,"diferencia");return React.createElement("tr",{style:{fontSize:"14px"}},React.createElement("td",null,f.folio_empleado),React.createElement("td",null,f.nombre_empleado),React.createElement("td",{style:{textAlign:"center"}}," ",l.indicador),React.createElement("td",{style:{textAlign:"center"},className:Checar(l.estatus)},e),React.createElement("td",{style:{textAlign:"center"}}," ",a.indicador," "),React.createElement("td",{style:{textAlign:"center"},className:Checar(a.estatus)},o),React.createElement("td",{style:{textAlign:"center"}},v.indicador),React.createElement("td",{style:{textAlign:"center"},className:Checar(v.estatus)},s),React.createElement("td",null,React.createElement("i",{className:"btn btn-primary fa fa-calendar",onClick:function(){return r(f)},title:"Indicadores Por Semana."}," Colaborador")))},f=function(){var n=[],t=0;return i.forEach(function(i){t!=i.folio_empleado&&(t=i.folio_empleado,n.push(React.createElement(u,{e:i,key:i.folio_empleado})))}),n};return React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",{style:{background:"#087fe4",heigth:"20px"}},React.createElement("th",{rowSpan:"2",style:{width:"40px",color:"azure",fontSize:"18px"}},"Folio"),React.createElement("th",{rowSpan:"2",style:{color:"azure",fontSize:"18px"}},"Colaborador"),React.createElement("th",{colSpan:"2",style:{width:"90px",color:"azure",fontSize:"12px",textAlign:"center"}},"Venta"),React.createElement("th",{colSpan:"2",style:{width:"90px",color:"azure",fontSize:"12px",textAlign:"center"}},"Cancelacion"),React.createElement("th",{colSpan:"2",style:{width:"90px",color:"azure",fontSize:"12px",textAlign:"center"}},"Diferencia"),React.createElement("th",{rowSpan:"2",style:{width:"40px"}})),React.createElement("tr",{style:{background:"#087fe4"}},React.createElement("th",{style:{color:"azure",textAlign:"center"}},"Objetivo"),React.createElement("th",{style:{color:"azure",textAlign:"center"}},"Real"),React.createElement("th",{style:{color:"azure",textAlign:"center"}},"Objetivo"),React.createElement("th",{style:{color:"azure",textAlign:"center"}},"Real"),React.createElement("th",{style:{color:"azure",textAlign:"center"}},"Objetivo"),React.createElement("th",{style:{color:"azure",textAlign:"center"}},"Real"))),React.createElement("tbody",null,React.createElement(f,null)))},ModalDetalleEmpleado=function(n){function i(){document.getElementById("modal_detalle_empleados").style.display="none"}var t=n.colaborador,r=n.establecimiento,u=n.actual,f=n.anterior,e=n.evento,o=n.IndicadorMonitor;return React.createElement("div",{id:"modal_detalle_empleados",style:{position:"fixed",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(144, 144, 146, 0.29)",top:0,bottom:0,left:0,right:0,zIndex:9991,display:"none"}},React.createElement("div",{className:"panel panel-default animate",style:{height:"80%",minHeight:"550px",width:"90%",maxWidth:"1050px",minWidth:"500px"}},React.createElement("div",{className:"panel-heading",style:{height:"8%",background:"#087fe4",color:"azure",fontSize:"18px"}},React.createElement("i",{className:"close fa fa-close",onClick:function(){return i()}}),React.createElement("strong",null,"INDICADORES COLABORADOR ",r,". ")),React.createElement(ViewUsuario,{usuario:t}),React.createElement("div",{className:"panel-body",style:{height:"55%"}},React.createElement("div",{style:{height:"95%",overflow:"auto",marginTop:"1px",background:"#e0ebeb"}},React.createElement(ListaIndicadores,{indicadoresAnt:t.pasado,actual:u,anterior:f,indicadoresAct:t.actual,IndicadorMonitor:o,evento:e}))),React.createElement("div",{className:"panel-footer"},React.createElement("i",{className:"btn btn-danger",onClick:function(){return i()},style:{marginLeft:"88%",fontSize:"14px",background:"red",color:"azure"}},"Cerrar"))))},ViewUsuario=function(n){var t=n.usuario;return React.createElement("div",{className:"panel panel-default",style:{display:"inline-block",marginTop:"2px"}},React.createElement("div",{className:"panel panel-heading"},React.createElement("div",{style:{display:"inline-block",marginTop:"-1px",height:"110px"}},React.createElement("img",{src:t.foto,width:"110",alt:"Usuario",className:"img-rounded"})),React.createElement(Formularios,{nombre:t.nombre,puesto:t.puesto,fecha:t.fecha,antigurdad:t.antiguedad,departamento:t.departamento})))},Formularios=function(n){var r=n.nombre,u=n.puesto,f=n.fecha,e=n.antigurdad,o=n.departamento,s=function(n){var t=n.titulo,i=n.valor;return React.createElement("div",{className:"form-group",style:{width:"450px",display:"inline-block",marginLeft:"20px"}},React.createElement("strong",null,t),React.createElement("label",{className:"form-control"},i))},t=function(n){var t=n.titulo,i=n.valor;return React.createElement("div",{style:{width:"330px",display:"inline-block",marginLeft:"20px"}},React.createElement("strong",null,t),React.createElement("label",{className:"form-control"},i.substr(0,41)+"."))},i=function(n){var t=n.titulo,i=n.valor;return React.createElement("div",{style:{width:"180px",display:"inline-block",marginLeft:"20px"}},React.createElement("strong",null,t),React.createElement("label",{className:"form-control"},i.substr(0,31)+"."))};return React.createElement("div",{style:{width:"860px",display:"inline-block",marginLeft:"100px",marginTop:"-180px",fontFamily:"consolas"}},React.createElement(s,{titulo:"Nombre",valor:r}),React.createElement(t,{titulo:"Puesto",valor:u}),React.createElement(t,{titulo:"Departamento",valor:o}),React.createElement(i,{titulo:"Antiguedad en puesto",valor:e}),React.createElement(i,{titulo:"Fecha Ingreso",valor:f}))},ListaIndicadores=function(n){var t=n.indicadoresAct,i=n.indicadoresAnt,r=n.actual,u=n.anterior,f=n.evento,e=n.IndicadorMonitor;return React.createElement("div",null,React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",{className:"info"},React.createElement("th",null,React.createElement("strong",null,"Indicadores Por Mes")),React.createElement("th",{style:{width:"150px"}},"Objetivo Mensual"),React.createElement("th",{style:styles.cuerpo.tabla.cavecera_indicador_ch}," ",r),React.createElement("th",{style:styles.cuerpo.tabla.cavecera_indicador_ch}," ",u),React.createElement("th",{style:styles.cuerpo.tabla.cavecera_indicador_ch}))),React.createElement(DatosIndicador,{indicadoresAct:t,indicadoresAnt:i,evento:f,IndicadorMonitor:e})))},DatosIndicador=function(n){function s(n){var t=n.valor,i=n.condicion,r=i?"btn btn-success glyphicon glyphicon-ok":"btn btn-danger glyphicon glyphicon-remove";return React.createElement("i",{style:styles.cuerpo.tabla.cavecera_indicador_ch,className:r},React.createElement("label",{style:{marginLeft:"5px"}},t))}var t=n.indicadoresAct,i=n.indicadoresAnt,h=n.evento,r=n.IndicadorMonitor,f=r(t.venta,"venta"),e=r(t.cancelacion,"cancelacion"),o=r(t.diferencia,"diferencia"),c=r(i.venta,"venta"),l=r(i.cancelacion,"cancelacion"),a=r(i.diferencia,"diferencia"),u=function(n){var t=n.descripcion,i=n.objetivo,r=n.actual,u=n.condicionAct,f=n.anterior,e=n.condicionAnt;return React.createElement("tr",null,React.createElement("td",null,t),React.createElement("td",null,React.createElement("i",{style:styles.cuerpo.tabla.cavecera_indicador_ch,className:"btn btn-default"},i)),React.createElement("td",null," ",React.createElement(s,{valor:r,condicion:u})),React.createElement("td",null," ",React.createElement(s,{valor:f,condicion:e})),React.createElement("td",{style:styles.cuerpo.tabla.cavecera_indicador_ch},React.createElement("i",{className:"btn btn-info glyphicon glyphicon-list-alt",onClick:function(){return h(t)}},React.createElement("label",{style:{marginLeft:"5px"}},"Indicadores Por Semanas"))))};return React.createElement("tbody",null,React.createElement(u,{descripcion:"Venta X 100.",objetivo:f.indicador,actual:t.venta,condicionAct:f.estatus,anterior:i.venta,condicionAnt:c.estatus}),React.createElement(u,{descripcion:"Cancelacion X 100.",objetivo:e.indicador,actual:t.cancelacion,condicionAct:e.estatus,anterior:i.cancelacion,condicionAnt:l.estatus}),React.createElement(u,{descripcion:"Diferencia X 10,000.",objetivo:o.indicador,actual:t.diferencia,condicionAct:o.estatus,anterior:i.diferencia,condicionAnt:a.estatus}))},ModalSemanasColaborador=function(n){function v(){document.getElementById("modal_vista_semana").style.display="none"}var o=n.lista,s=n.establecimiento,e=n.colaborador,h=n.actual,c=n.anterior,t=n.filtro,u=n.grafica,l=n.leyenda,f=n.IndicadorMonitor,r=o.filter(function(n){return n.folio_establecimiento_venta==s&&n.folio_empleado==e.folio}),i=[],a=function(){var n=[],e,o,s;return r.forEach(function(t){n.push("Semana "+t.semana_anio+" .")}),t=="Venta X 100."?(e=r.map(function(n){return n.indicado_venta_x_100})||[],e.forEach(function(n){var t=f(n,"venta");i.push(t.estatus)}),e.length>0&&u(e,t+" Semanas Del Año.",n),React.createElement(TablaSemana,{condicion:i,lista:e,labels:n})):t=="Cancelacion X 100."?(o=r.map(function(n){return n.indicador_cancelacion_x_100})||[],o.forEach(function(n){var t=f(n,"cancelacion");i.push(t.estatus)}),o.length>0&&u(o,t+" Semanas Del Año.",n),React.createElement(TablaSemana,{condicion:i,lista:o,labels:n})):(s=r.map(function(n){return n.indicacor_diferencia_x_1000})||[],s.forEach(function(n){var t=f(n,"diferencia");i.push(t.estatus)}),s.length>0&&u(s,t+" Semanas Del Año.",n),React.createElement(TablaSemana,{condicion:i,lista:s,labels:n}))};return React.createElement("div",{style:styles.modal_base,id:"modal_vista_semana"},React.createElement("div",{className:"panel panel-default animate",style:styles2.vista},React.createElement("div",{className:"panel-heading",style:styles2.cavecera},React.createElement("i",{className:"close fa fa-close",onClick:function(){return v()}}),React.createElement("label",null,"Indicadores Por semanas.")),React.createElement("div",{className:"panel-heading",style:styles2.tabla},React.createElement("h4",null,"Colaborador: ",e.nombre,"."),React.createElement("strong",null,"Resultados Semanales ",t," ",c," Y ",h,"."),React.createElement("br",null),React.createElement("label",null,l),React.createElement(a,null)),React.createElement("div",{className:"panel-body",id:"constenedorCanvas",style:styles2.cuerpo},React.createElement("canvas",{id:"barras_char"}))))},TablaSemana=function(n){function u(){return React.createElement("tr",null,t.map(function(n,i){return React.createElement("td",{key:n+"_"+i},React.createElement(f,{actual:n,anterior:t[i-1],condicion:r[i]}))}))}function f(n){var t=n.actual,i=n.anterior,u=n.condicion,r,f=u?"btn btn-success":"btn btn-danger";return r=t!=i&&i!=null?i>t?" glyphicon glyphicon-download":" glyphicon glyphicon-upload":i==t?"":" glyphicon glyphicon-play-circle",React.createElement("i",{className:f+r},React.createElement("label",{style:{marginLeft:"5px",width:"18px",fontSize:"12px"}},t))}var t=n.lista,i=n.labels,r=n.condicion;return React.createElement("table",{className:"table"},React.createElement("thead",null,React.createElement("tr",null,i.map(function(n,t){return React.createElement("th",{key:n+"_"+t},n)}))),React.createElement("tbody",null,React.createElement(u,null)))},styles={modal_base:{position:"fixed",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(144, 144, 146, 0.29)",top:0,bottom:0,left:0,right:0,zIndex:9991,display:"none"},vista:{height:"700px",width:"800px"},cavecera:{height:"40px",backgroundColor:"#349CEB",color:"#FFFFFF",foto:{height:"50px",display:"inline-block",width:"60px"},contenedor_nombre:{display:"inline-block",width:"480px",marginTop:"-60px",marginLeft:"68px"},contenedor_puesto:{marginLeft:"10px",display:"inline-block",marginTop:"-70px",width:"210px"},nombre:{borderBottom:"solid 1px #000000"},puesto:{borderBottom:"solid 1px #000000"}},cuerpo:{height:"550px",tabla:{cavecera_indicador_ch:{width:"80px",textAlign:"center"}}},pie:{height:"50px",cerrar:{marginLeft:"690px",marginTop:"-6px"}}},styles2={vista:{height:"750px",width:"1000px"},cavecera:{height:"40px",backgroundColor:"#2EAB64",color:"#FFFFFF"},tabla:{height:"210px"},cuerpo:{position:"relative",height:"450px",width:"100%",tabla:{cavecera_indicador_ch:{width:"80px",textAlign:"center"}}},pie:{height:"50px",cerrar:{marginLeft:"590px",marginTop:"-6px"}}};ReactDOM.render(React.createElement(App,null),document.getElementById("root"));